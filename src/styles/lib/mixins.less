// see: https://gist.github.com/brandonb927/3874012
.image-2x(@image, @width, @height, @repeat: no-repeat) {
  @filename: ~`/(.*)\.(jpg|jpeg|png|gif)/.exec(@{image})[1]`;
  @extension: ~`/(.*)\.(jpg|jpeg|png|gif)/.exec(@{image})[2]`;
  background-image: ~`"url(@{filename}.@{extension})"`;
  background-repeat: @repeat;

  @media
    only screen and (-webkit-min-device-pixel-ratio: 2),
    only screen and (   min--moz-device-pixel-ratio: 2),
    only screen and (     -o-min-device-pixel-ratio: 2/1),
    only screen and (        min-device-pixel-ratio: 2),
    only screen and (                min-resolution: 192dpi),
    only screen and (                min-resolution: 2dppx) {
      // on retina, use image that's scaled by 2
      background-image: ~`"url(@{filename}@2x.@{extension})"`;
      background-size: @width @height;
  }
}



// see: https://github.com/twbs/bootstrap/blob/master/less/mixins/clearfix.less
.clear-fix() {
  &:before,
  &:after {
    content: ' ';
    display: table;
  }
  &:after {
    clear: both;
  }
}



// size as a square
.square(@size) {
  width: @size;
  height: @size;
}



// hide from both screenreaders and browsers: h5bp.com/u
.hidden() {
  display: none !important;
  visibility: hidden;
}



// hide only visually, but make available for screenreaders: h5bp.com/v
.visually-hidden() {
  border: 0;
  clip: rect(0 0 0 0);
  height: 1px;
  margin: -1px;
  overflow: hidden;
  padding: 0;
  position: absolute;
  width: 1px;

  // extend the .visuallyhidden class to allow the element to be focusable when navigated to via the keyboard: h5bp.com/p
  &.focusable {
    &:active,
    &:focus {
      clip: auto;
      height: auto;
      margin: 0;
      overflow: visible;
      position: static;
      width: auto;
    }
  }
}



// hide visually and from screenreaders, but maintain layout
.invisible() {
  visibility: hidden;
}



//
.inline-list() {
  list-style: none;
  padding: 0;

  li {
    display: inline-block;
  }
}



//
.piped-nav(@color) {
  .inline-list;

  :first-child {
    border-left: none;
  }

  li {
    cursor: pointer;
    border-left: 1px solid #000;
    padding: 0 20px;

    &:hover,
    &:active,
    &.selected {
      color: @color;

      a {
        color: @color;
      }
    }
  }

  a {
    color: #000;

    &:hover,
    &:active {
      text-decoration: none;
    }
  }
}
